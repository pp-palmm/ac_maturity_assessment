import streamlit as st
from datetime import datetime
import pandas as pd   # only needed for any later export you might add

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Page configuration
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
st.set_page_config(
    page_title="à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥",
    page_icon="ğŸ“Š",
    layout="wide"
)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Session-state initialisation
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if 'page' not in st.session_state:
    st.session_state.page = 1
if 'client_info' not in st.session_state:
    st.session_state.client_info = {}
if 'choices' not in st.session_state:
    st.session_state.choices = {}
if 'assessment_type' not in st.session_state:
    st.session_state.assessment_type = None

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Questions, options and scores  (unchanged)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
questions_with_scores = {
    1: { "question": "à¹€à¸§à¸¥à¸²à¸—à¹ˆà¸²à¸™à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¸—à¹ˆà¸²à¸™à¸£à¸¹à¹‰à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡ à¹à¸¥à¸°à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸—à¸µà¹ˆà¹„à¸«à¸™ / à¸—à¸µà¹ˆà¹ƒà¸„à¸£",
        "options": {
            "à¸—à¸£à¸²à¸šà¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¹ƒà¸«à¸à¹ˆà¸­à¸¢à¹ˆà¸²à¸‡à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” à¹à¸¥à¸°à¸£à¸¹à¹‰à¸§à¹ˆà¸²à¸­à¸¢à¸¹à¹ˆà¸—à¸µà¹ˆà¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¹„à¸«à¸™": 100,
            "à¸—à¸£à¸²à¸šà¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¹ƒà¸«à¸à¹ˆ à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸§à¹ˆà¸²à¸­à¸¢à¸¹à¹ˆà¸—à¸µà¹ˆà¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¹„à¸«à¸™": 75,
            "à¸—à¸£à¸²à¸šà¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™": 50,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    2: { "question": "à¸—à¹ˆà¸²à¸™à¸—à¸£à¸²à¸šà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸„à¸±à¸à¸‚à¸­à¸‡à¸­à¸‡à¸„à¹Œà¸à¸£à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡",
        "options": {
            "à¸—à¸£à¸²à¸šà¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸„à¸±à¸ à¹à¸¥à¸°à¸¡à¸µà¸à¸²à¸£à¸£à¸°à¸šà¸¸à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸¥à¸±à¸ (Master Data) à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§": 100,
            "à¸—à¸£à¸²à¸šà¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸„à¸±à¸ à¹à¸•à¹ˆà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸£à¸°à¸šà¸¸à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸¥à¸±à¸ (Master Data) à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™": 75,
            "à¸—à¸£à¸²à¸šà¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¹à¸šà¸šà¸à¸­à¸ªà¸±à¸‡à¹€à¸‚à¸›": 50,
            "à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸£à¸°à¸šà¸¸à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸„à¸±à¸": 25,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    3: { "question": "à¹ƒà¸™à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™ à¸—à¹ˆà¸²à¸™à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸£à¸·à¸­à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹ƒà¸™à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¹€à¸›à¹‡à¸™à¸«à¸¥à¸±à¸",
        "options": {
            "à¸ªà¹ˆà¸§à¸™à¹ƒà¸«à¸à¹ˆà¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸à¸²à¸£à¸›à¸£à¸°à¸à¸­à¸šà¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¸£à¹ˆà¸§à¸¡à¸à¸±à¸šà¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œ": 100,
            "à¹ƒà¸Šà¹‰à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸£à¹ˆà¸§à¸¡à¸à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¹ƒà¸™à¸à¸²à¸£à¸›à¸£à¸°à¸à¸­à¸šà¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¹€à¸ªà¸¡à¸­": 75,
            "à¹ƒà¸Šà¹‰à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹€à¸›à¹‡à¸™à¸«à¸¥à¸±à¸ à¹à¸¥à¸°à¸à¸´à¸ˆà¸²à¸£à¸“à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸›à¸£à¸°à¸à¸­à¸šà¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹€à¸à¸µà¸¢à¸‡à¸à¸­à¸«à¸£à¸·à¸­à¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡": 50,
            "à¹ƒà¸Šà¹‰à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹€à¸›à¹‡à¸™à¸«à¸¥à¸±à¸": 25 } },
    4: { "question": "à¹€à¸¡à¸·à¹ˆà¸­à¸—à¹ˆà¸²à¸™à¸•à¹‰à¸­à¸‡à¸£à¸±à¸šà¸œà¸¥à¸£à¸²à¸¢à¸‡à¸²à¸™à¸ˆà¸²à¸à¸à¹ˆà¸²à¸¢à¸›à¸à¸´à¸šà¸±à¸•à¸´à¸à¸²à¸£à¸«à¸£à¸·à¸­à¸à¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™à¹† à¸—à¹ˆà¸²à¸™à¹ƒà¸Šà¹‰à¹€à¸§à¸¥à¸²à¸™à¸²à¸™à¹„à¸«à¸¡à¹ƒà¸™à¸à¸²à¸£à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¹à¸¥à¸°à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰à¹ƒà¸™à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ",
        "options": {
            "à¸£à¸§à¸”à¹€à¸£à¹‡à¸§ à¹à¸¥à¸°à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰": 100,
            "à¸£à¸§à¸”à¹€à¸£à¹‡à¸§ à¸­à¸²à¸ˆà¸¡à¸µà¸à¸²à¸£à¸›à¸£à¸±à¸šà¹à¸à¹‰à¹€à¸¥à¹‡à¸à¸™à¹‰à¸­à¸¢": 75,
            "à¹ƒà¸Šà¹‰à¹€à¸§à¸¥à¸²à¸™à¸²à¸™à¹à¸¥à¸°à¸•à¹‰à¸­à¸‡à¸›à¸£à¸±à¸šà¹à¸à¹‰à¸šà¹ˆà¸­à¸¢": 50,
            "à¸¥à¹ˆà¸²à¸Šà¹‰à¸² à¹ƒà¸Šà¹‰à¹€à¸§à¸¥à¸²à¸™à¸²à¸™ à¹à¸¥à¸°à¸¡à¸µà¸­à¸¸à¸›à¸ªà¸£à¸£à¸„": 25 } },
    5: { "question": "à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸à¸²à¸£à¸à¸³à¸«à¸™à¸”à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸«à¸£à¸·à¸­à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸”à¹‰à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ...",
        "options": {
            "à¸¡à¸µà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸Šà¸±à¸”à¹€à¸ˆà¸™à¸—à¸±à¹‰à¸‡à¸­à¸‡à¸„à¹Œà¸à¸£": 100,
            "à¸¡à¸µà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¹à¸•à¹ˆà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™": 75,
            "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸à¸²à¸£à¸à¸³à¸«à¸™à¸”": 50,
            "à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸”à¹‰à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥": 25,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    6: { "question": "à¸—à¹ˆà¸²à¸™à¸—à¸£à¸²à¸šà¸–à¸¶à¸‡à¸ˆà¸¸à¸”à¹à¸‚à¹‡à¸‡ à¸ˆà¸¸à¸”à¸­à¹ˆà¸­à¸™ à¸”à¹‰à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸­à¸‡à¸„à¹Œà¸à¸£à¸—à¹ˆà¸²à¸™à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ",
        "options": {
            "à¸—à¸£à¸²à¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”": 100,
            "à¸—à¸£à¸²à¸šà¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¸­à¸¢à¹ˆà¸²à¸‡à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”": 75,
            "à¸—à¸£à¸²à¸šà¹€à¸‰à¸à¸²à¸°à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸‚à¸­à¸šà¹€à¸‚à¸•à¸„à¸§à¸²à¸¡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸‚à¸­à¸‡à¸•à¸™": 50,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    7: { "question": "à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸•à¸±à¹‰à¸‡à¸„à¸“à¸°à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸˜à¸£à¸£à¸¡à¸²à¸ à¸´à¸šà¸²à¸¥à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ",
        "options": {
            "à¸¡à¸µ à¹à¸¥à¸°à¹à¸•à¹ˆà¸‡à¸•à¸±à¹‰à¸‡à¸•à¸²à¸¡à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸£à¸±à¸à¸šà¸²à¸¥à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥": 100,
            "à¸¡à¸µ à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸¡à¸±à¹ˆà¸™à¹ƒà¸ˆà¸§à¹ˆà¸²à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸•à¸²à¸¡à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸£à¸±à¸à¸šà¸²à¸¥à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ": 75,
            "à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£": 50,
            "à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸•à¸±à¹‰à¸‡": 25,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    8: { "question": "à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸à¸²à¸£à¸ˆà¸±à¸”à¸•à¸±à¹‰à¸‡à¸—à¸µà¸¡à¸šà¸£à¸´à¸«à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ",
        "options": {
            "à¸¡à¸µ à¹à¸¥à¸°à¸ˆà¸±à¸”à¸•à¸±à¹‰à¸‡à¸•à¸²à¸¡à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸£à¸±à¸à¸šà¸²à¸¥à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥": 100,
            "à¸¡à¸µ à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸¡à¸±à¹ˆà¸™à¹ƒà¸ˆà¸§à¹ˆà¸²à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸•à¸²à¸¡à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸£à¸±à¸à¸šà¸²à¸¥à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ": 75,
            "à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£": 50,
            "à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸ˆà¸±à¸”à¸•à¸±à¹‰à¸‡": 25,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    9: { "question": "à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸à¸²à¸£à¸šà¸£à¸´à¸«à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¹ˆà¸²à¸™à¸£à¸°à¸šà¸šà¸«à¸£à¸·à¸­à¹à¸à¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¸à¸¥à¸²à¸‡à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ",
        "options": {
            "à¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ªà¹ˆà¸§à¸™à¹ƒà¸«à¸à¹ˆà¸ à¸²à¸¢à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£": 100,
            "à¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸šà¸²à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™": 75,
            "à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸£à¸°à¸šà¸šà¸à¸¥à¸²à¸‡ à¸«à¸£à¸·à¸­à¹à¸à¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¸à¸¥à¸²à¸‡": 50,
            "à¹„à¸¡à¹ˆà¸¡à¸µà¹à¸à¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¸à¸¥à¸²à¸‡": 25,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } },
    10: { "question": "à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¸¡à¸²à¸à¸™à¹‰à¸­à¸¢à¹à¸„à¹ˆà¹„à¸«à¸™",
        "options": {
            "à¹ƒà¸Šà¹‰à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¸«à¸¥à¸²à¸¢à¸Šà¸¸à¸” à¹à¸¥à¸°à¸¡à¸µà¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸Šà¸±à¸”à¹€à¸ˆà¸™": 100,
            "à¹ƒà¸Šà¹‰à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¸«à¸¥à¸²à¸¢à¸Šà¸¸à¸” à¹à¸•à¹ˆà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸Šà¸±à¸”à¹€à¸ˆà¸™": 75,
            "à¹ƒà¸Šà¹‰à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¹€à¸à¸µà¸¢à¸‡à¹€à¸¥à¹‡à¸à¸™à¹‰à¸­à¸¢": 50,
            "à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸Šà¸¸à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™": 25,
            "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š": 25 } }
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Maturity-group definitions
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
maturity_groups = {
    "à¸„à¸§à¸²à¸¡à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸™à¸ªà¸´à¸™à¸—à¸£à¸±à¸à¸¢à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸­à¸‡à¸„à¹Œà¸à¸£": [1, 2],
    "à¸à¸²à¸£à¸‚à¸±à¸šà¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸­à¸‡à¸„à¹Œà¸à¸£à¸”à¹‰à¸§à¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥":               [3, 4],
    "à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸”à¹‰à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥":                  [5, 6],
    "à¸à¸²à¸£à¸ˆà¸±à¸”à¸•à¸±à¹‰à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸˜à¸£à¸£à¸¡à¸²à¸ à¸´à¸šà¸²à¸¥à¸‚à¹‰à¸­à¸¡à¸¹à¸¥":        [7, 8],
    "à¸à¸²à¸£à¸šà¸£à¸´à¸«à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥":                      [9, 10]
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Helper functions
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def get_maturity_level_pct(score: float):
    """Classify a 0-100 *percentage* score (overall display)."""
    if score >= 85:
        return "à¸”à¸µà¸¡à¸²à¸", "ğŸŸ¢", "#00CC00"
    elif score >= 65:
        return "à¸”à¸µ", "ğŸŸ¡", "#FFCC00"
    elif score >= 45:
        return "à¸›à¸²à¸™à¸à¸¥à¸²à¸‡", "ğŸŸ ", "#FF9900"
    else:
        return "à¸•à¹‰à¸­à¸‡à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡", "ğŸ”´", "#FF3333"

def get_maturity_level_total(total: int):
    """Classify a *total* on 0-200 scale."""
    if total == 200:
        return "à¸”à¸µà¸¡à¸²à¸", "ğŸŸ¢", "#00CC00"
    elif total >= 150:
        return "à¸”à¸µ", "ğŸŸ¡", "#FFCC00"
    elif total >= 100:
        return "à¸›à¸²à¸™à¸à¸¥à¸²à¸‡", "ğŸŸ ", "#FF9900"
    else:           # 50-99
        return "à¸•à¹‰à¸­à¸‡à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡", "ğŸ”´", "#FF3333"

def create_progress_bar(score: float, width: int = 20) -> str:
    filled = int((score / 100) * width)
    return "â–ˆ" * filled + "â–‘" * (width - filled)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Page 1  â€“  Client information
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def page_client_info():
    st.title("ğŸ“ à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥")
    st.subheader("à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸à¸£à¸­à¸à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡")

    with st.form("client_form"):
        c1, c2 = st.columns(2)
        with c1:
            org_name = st.text_input("à¸Šà¸·à¹ˆà¸­à¸­à¸‡à¸„à¹Œà¸à¸£",  value=st.session_state.client_info.get("org_name", ""))
            phone    = st.text_input("à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£à¸¨à¸±à¸à¸—à¹Œ", value=st.session_state.client_info.get("phone",    ""))
        with c2:
            full_name = st.text_input("à¸Šà¸·à¹ˆà¸­",   value=st.session_state.client_info.get("full_name", ""))
            email     = st.text_input("à¸­à¸µà¹€à¸¡à¸¥", value=st.session_state.client_info.get("email",     ""))

        submitted = st.form_submit_button("Next â¡ï¸", use_container_width=True)
        if submitted:
            if all([org_name, phone, full_name, email]):
                st.session_state.client_info = {
                    "org_name":  org_name,
                    "phone":     phone,
                    "full_name": full_name,
                    "email":     email
                }
                st.session_state.page = 2
                st.rerun()
            else:
                st.error("à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸—à¸¸à¸à¸Šà¹ˆà¸­à¸‡")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Page 2 â€“ choose assessment type
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def page_assessment_selection():
    st.title("ğŸ“Š à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸ à¸—à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™")
    st.markdown("### à¹€à¸¥à¸·à¸­à¸à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™")
    st.markdown("")

    c1, c2 = st.columns(2)
    with c1:
        if st.button("ğŸ“ˆ à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸„à¸§à¸²à¸¡à¸à¸£à¹‰à¸­à¸¡à¸­à¸‡à¸„à¹Œà¸à¸£à¸”à¹‰à¸²à¸™à¸¢à¸¸à¸—à¸˜à¸¨à¸²à¸ªà¸•à¸£à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥",
                     type="primary", use_container_width=True):
            st.session_state.assessment_type = "strategy"
            st.session_state.page = 3
            st.rerun()
    with c2:
        if st.button("ğŸ›ï¸ à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸£à¸°à¸”à¸±à¸šà¸„à¸§à¸²à¸¡à¸à¸£à¹‰à¸­à¸¡à¸˜à¸£à¸£à¸¡à¸²à¸ à¸´à¸šà¸²à¸¥à¸‚à¹‰à¸­à¸¡à¸¹à¸¥",
                     type="secondary", use_container_width=True):
            js = ("window.open("
                  "'https://www.jotform.com/build/251632288260052?"
                  "iak=6553c26b661da8b9792faf1ab086afea-f68803ebbd499c6c',"
                  "'_blank');")
            st.components.v1.html(f"<script>{js}</script>", height=0)
            st.info("à¸à¸³à¸¥à¸±à¸‡à¹€à¸›à¸´à¸”à¹à¸šà¸šà¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸˜à¸£à¸£à¸¡à¸²à¸ à¸´à¸šà¸²à¸¥à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ...")

    st.markdown("---")
    if st.button("â¬…ï¸ à¸à¸¥à¸±à¸š", use_container_width=True):
        st.session_state.page = 1
        st.rerun()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Page 3 â€“ questions
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def page_questions():
    st.title("ğŸ“Š à¹à¸šà¸šà¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£")
    progress = len(st.session_state.choices) / len(questions_with_scores)
    st.progress(progress)
    st.caption(f"à¸„à¸§à¸²à¸¡à¸„à¸·à¸šà¸«à¸™à¹‰à¸²: {len(st.session_state.choices)} / {len(questions_with_scores)} à¸„à¸³à¸–à¸²à¸¡")

    with st.form("questions_form"):
        for q_num, q_data in questions_with_scores.items():
            st.markdown(f"### à¸„à¸³à¸–à¸²à¸¡à¸—à¸µà¹ˆ {q_num}")
            st.markdown(q_data["question"])

            default_idx = 0
            saved = st.session_state.choices.get(f"q{q_num}")
            if saved:
                try:
                    default_idx = list(q_data["options"]).index(saved)
                except ValueError:
                    default_idx = 0

            answer = st.radio("à¹€à¸¥à¸·à¸­à¸à¸„à¸³à¸•à¸­à¸š:",
                              list(q_data["options"]),
                              index=default_idx,
                              key=f"q{q_num}")
            st.markdown("---")

        c1, c2 = st.columns(2)
        back_btn  = c1.form_submit_button("â¬…ï¸ à¸à¸¥à¸±à¸š",              use_container_width=True)
        send_btn  = c2.form_submit_button("à¸ªà¹ˆà¸‡à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡ âœ…", type="primary", use_container_width=True)

        if back_btn:
            st.session_state.page = 1
            st.rerun()
        if send_btn:
            for q in questions_with_scores:
                st.session_state.choices[f"q{q}"] = st.session_state[f"q{q}"]
            st.session_state.page = 4
            st.rerun()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Page 4 â€“ results
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def page_results():
    st.title("âœ… à¸ªà¸£à¸¸à¸›à¸œà¸¥à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™")
    st.success("à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§!")

    # â”€â”€ 1. compute 0-200 totals for each group
    group_totals  = {}
    group_display = {}
    for g_name, q_ids in maturity_groups.items():
        total = sum(
            questions_with_scores[q]["options"]
            .get(st.session_state.choices.get(f"q{q}", ""), 0)
            for q in q_ids
        )                            # min 50, max 200
        group_totals[g_name]  = total
        group_display[g_name] = total / 2    # scale to 0-100 for UI

    # â”€â”€ 2. overall score (0-100) for display
    overall_total   = sum(group_totals.values())     # 0-1000
    overall_display = overall_total / 10             # 0-100

    # â”€â”€ 3. headline box
    st.subheader("ğŸ“ˆ à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡")
    c1, c2, c3 = st.columns(3)
    with c1:
        st.metric("à¸„à¸°à¹à¸™à¸™à¹€à¸‰à¸¥à¸µà¹ˆà¸¢", f"{overall_display:.1f}/100")
    with c2:
        st.metric("à¹€à¸›à¸­à¸£à¹Œà¹€à¸‹à¹‡à¸™à¸•à¹Œ", f"{overall_display:.1f}%")
    with c3:
        level, emoji, colour = get_maturity_level_pct(overall_display)
        st.markdown(f"### {emoji} à¸£à¸°à¸”à¸±à¸š: {level}")

    st.markdown("**à¸„à¸§à¸²à¸¡à¸à¹‰à¸²à¸§à¸«à¸™à¹‰à¸²à¹‚à¸”à¸¢à¸£à¸§à¸¡:**")
    st.markdown(f"`{create_progress_bar(overall_display,30)}` {overall_display:.1f}%")
    st.markdown("---")

    # â”€â”€ 4. per-group display
    st.subheader("ğŸ“Š à¸œà¸¥à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸•à¸²à¸¡à¸”à¹‰à¸²à¸™ (Maturity Assessment)")
    for g_name in maturity_groups:
        total   = group_totals[g_name]      # 0-200
        display = group_display[g_name]     # 0-100
        level, emoji, colour = get_maturity_level_total(total)

        with st.container():
            c1, c2 = st.columns([3, 1])
            with c1:
                st.markdown(f"### {emoji} {g_name}")
                st.markdown(f"`{create_progress_bar(display)}` **{display:.1f}%** - {level}")
            with c2:
                st.markdown(
                    f"<h2 style='text-align:center;color:{colour};'>{display:.0f}</h2>",
                    unsafe_allow_html=True
                )
        st.markdown("")

    # â”€â”€ 5. Legend
    st.markdown("---")
    st.markdown("### ğŸ“‹ à¹€à¸à¸“à¸‘à¹Œà¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™:")
    c1, c2, c3, c4 = st.columns(4)
    with c1: st.markdown("ğŸŸ¢ **à¸”à¸µà¸¡à¸²à¸** (85-100%)")
    with c2: st.markdown("ğŸŸ¡ **à¸”à¸µ** (65-84%)")
    with c3: st.markdown("ğŸŸ  **à¸›à¸²à¸™à¸à¸¥à¸²à¸‡** (45-64%)")
    with c4: st.markdown("ğŸ”´ **à¸•à¹‰à¸­à¸‡à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡** (0-44%)")
    st.markdown("---")

    # â”€â”€ 6. recommendations
    st.subheader("ğŸ’¡ à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°")
    weak = [(g, sc) for g, sc in group_display.items() if sc < 65]
    if weak:
        st.warning("**à¸”à¹‰à¸²à¸™à¸—à¸µà¹ˆà¸„à¸§à¸£à¸à¸±à¸’à¸™à¸²à¹€à¸›à¹‡à¸™à¸¥à¸³à¸”à¸±à¸šà¹à¸£à¸:**")
        for g, sc in sorted(weak, key=lambda x: x[1]):
            st.write(f"- {g} (à¸„à¸°à¹à¸™à¸™: {sc:.1f}%)")
    else:
        st.success("à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸¡à¸µà¸à¸²à¸£à¸šà¸£à¸´à¸«à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸£à¸°à¸”à¸±à¸šà¸”à¸µà¸—à¸¸à¸à¸”à¹‰à¸²à¸™!")

    # â”€â”€ 7. client info
    st.markdown("---")
    st.subheader("ğŸ“‹ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸à¸£à¸­à¸à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡")
    c1, c2 = st.columns(2)
    with c1:
        st.write(f"**à¸Šà¸·à¹ˆà¸­à¸­à¸‡à¸„à¹Œà¸à¸£:** {st.session_state.client_info.get('org_name','')}")
        st.write(f"**à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£à¸¨à¸±à¸à¸—à¹Œ:** {st.session_state.client_info.get('phone','')}")
    with c2:
        st.write(f"**à¸Šà¸·à¹ˆà¸­-à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥:** {st.session_state.client_info.get('full_name','')}")
        st.write(f"**à¸­à¸µà¹€à¸¡à¸¥:** {st.session_state.client_info.get('email','')}")

    # â”€â”€ 8. new assessment button
    st.markdown("---")
    st.subheader("ğŸ“ à¸—à¸³à¹à¸šà¸šà¸›à¸£à¸°à¹€à¸¡à¸´à¸™")
    if st.button("ğŸ“ à¸—à¸³à¹à¸šà¸šà¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¹ƒà¸«à¸¡à¹ˆ", type="primary", use_container_width=True):
        st.session_state.page            = 2
        st.session_state.choices         = {}
        st.session_state.assessment_type = None
        st.rerun()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Main router
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def main():
    # minimal CSS tweak for better buttons
    st.markdown("""
    <style>
    .stButton > button { height:3rem; font-size:1.1rem; }
    .stRadio > div    { padding-left:1rem; }
    </style>
    """, unsafe_allow_html=True)

    if   st.session_state.page == 1: page_client_info()
    elif st.session_state.page == 2: page_assessment_selection()
    elif st.session_state.page == 3: page_questions()
    elif st.session_state.page == 4: page_results()

if __name__ == "__main__":
    main()
